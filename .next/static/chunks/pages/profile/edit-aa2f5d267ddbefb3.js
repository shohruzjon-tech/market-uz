(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5991],{21596:function(e,r,n){"use strict";var t=n(95318);r.Z=void 0;var i=t(n(64938)),a=n(85893),o=(0,i.default)((0,a.jsx)("path",{d:"m10 17 5-5-5-5v10z"}),"ArrowRight");r.Z=o},54927:function(e,r,n){"use strict";var t=n(95318);r.Z=void 0;var i=t(n(64938)),a=n(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"}),"CreditCard");r.Z=o},326:function(e,r,n){"use strict";var t=n(95318);r.Z=void 0;var i=t(n(64938)),a=n(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");r.Z=o},15398:function(e,r,n){"use strict";var t=n(95318);r.Z=void 0;var i=t(n(64938)),a=n(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");r.Z=o},3769:function(e,r,n){"use strict";var t=n(95318);r.Z=void 0;var i=t(n(64938)),a=n(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}),"Place");r.Z=o},26770:function(e,r,n){"use strict";var t=n(95318);r.Z=void 0;var i=t(n(64938)),a=n(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"}),"ShoppingBagOutlined");r.Z=o},42807:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/edit",function(){return n(81761)}])},81761:function(e,r,n){"use strict";n.r(r);var t=n(34051),i=n.n(t),a=n(85893),o=n(37867),l=n(42279),s=n(74139),u=n(17329),c=n(47351),d=n(38129),h=n(15398),f=n(52938),v=n(46810),m=n(5344),p=n(69397),x=n(87952),b=n(48263),j=n(22715),y=n(18377),g=n(82580),Z=n(41664),_=n(67294),C=n(74231),z=n(45959),w=n(71153),P=n(46137),O=n(25617),S=n(3725),M=n(57524),H=n(25321),I=n(74931),V=n(66489),k=n(11163);function A(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function T(e,r,n,t,i,a,o){try{var l=e[a](o),s=l.value}catch(u){return void n(u)}l.done?r(s):Promise.resolve(s).then(t,i)}function q(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function E(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,i,a=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(t=n.next()).done)&&(a.push(t.value),!r||a.length!==r);o=!0);}catch(s){l=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(l)throw i}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return A(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=function(e){var r=e.to,n=(0,k.useRouter)();return(0,_.useEffect)((function(){n.push(r)}),[r]),null},R=C.Ry().shape({first_name:C.Z_().required("Ism kiritilishi shart"),last_name:C.Z_().required("Familiya kiritilishi shart"),birth_date:C.hT("Notug'ri format!").required("Tug'ilgan sanangiz kiritilishi shart")});r.default=function(){var e,r,n=(0,O.v9)(S.Ts),t=E(_.useState(null===n||void 0===n?void 0:n.user_avatar),2),C=t[0],k=t[1],A=E(_.useState(null===n||void 0===n?void 0:n.user_avatar),2),F=A[0],N=A[1],D=E(_.useState(!1),2),L=D[0],W=D[1],J=(0,O.I0)();(0,_.useEffect)((function(){var e=(0,H.cf)((0,H.JU)(z.db,"uzstore_users","".concat(null===n||void 0===n?void 0:n.user_id)),(function(e){var r=e.data();J((0,M.QS)(r))}));return function(){e()}}),[z.db]);var U=function(){var e,r=(e=i().mark((function e(r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return W(!0),t=(0,H.JU)(z.db,"uzstore_users","".concat(null===n||void 0===n?void 0:n.user_id)),e.prev=2,e.next=5,(0,H.r7)(t,{user_name:null===r||void 0===r?void 0:r.first_name,user_surname:null===r||void 0===r?void 0:r.last_name,user_birth_date:null===r||void 0===r?void 0:r.birth_date,user_avatar:F});case 5:I.Am.success("Malumotlar yangilandi"),W(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),I.Am.error("Malumotlarni yangilashda hatolik yuz berdi. Iltimos qaytadan urinib kuring!"),W(!1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})),function(){var r=this,n=arguments;return new Promise((function(t,i){var a=e.apply(r,n);function o(e){T(a,t,i,o,l,"next",e)}function l(e){T(a,t,i,o,l,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}(),Q={first_name:null===n||void 0===n?void 0:n.user_name,last_name:null===n||void 0===n?void 0:n.user_surname,birth_date:new Date(1e3*(null===n||void 0===n||null===(e=n.user_birth_date)||void 0===e?void 0:e.seconds))};return(null===z.I||void 0===z.I||null===(r=z.I.currentUser)||void 0===r?void 0:r.uid)||n?(0,a.jsxs)(s.Z,{children:[(0,a.jsx)(c.Z,{icon:h.Z,title:"Profilga ishlov berish",button:(0,a.jsx)(Z.default,{href:"/profile",children:(0,a.jsx)(p.Z,{color:"primary",sx:{px:"2rem",bgcolor:"primary.light"},children:"Profilga qaytish"})}),navigation:(0,a.jsx)(u.Z,{})}),(0,a.jsxs)(o.Z,{children:[(0,a.jsxs)(l.Z,{alignItems:"flex-end",mb:3,children:[(0,a.jsx)(x.Z,{src:C,sx:{height:64,width:64}}),(0,a.jsx)(y.Z,{ml:-2.5,children:(0,a.jsx)("label",{htmlFor:"profile-image",children:(0,a.jsx)(p.Z,{component:"span",color:"secondary",sx:{bgcolor:"grey.300",height:"auto",p:"8px",borderRadius:"50%"},children:(0,a.jsx)(d.Z,{fontSize:"small"})})})}),(0,a.jsx)(y.Z,{display:"none",children:(0,a.jsx)("input",{onChange:function(e){return function(e){if(e){k(P.V);var r=(0,w.iH)(z.t,"/uzstore_avatars/".concat(null===n||void 0===n?void 0:n.user_name).concat(null===n||void 0===n?void 0:n.user_surname,"/").concat(e.name)),t=(0,w.B0)(r,e);t.on("state_changed",(function(e){}),(function(e){}),(function(){(0,w.Jt)(t.snapshot.ref).then((function(e){k(e),N(e)}))}))}}(e.target.files[0])},id:"profile-image",accept:"image/*",type:"file"})})]}),(0,a.jsx)(g.J9,{initialValues:Q,validationSchema:R,onSubmit:U,children:function(e){var r=e.values,t=e.errors,i=e.touched,o=e.handleChange,l=e.handleBlur,s=e.handleSubmit,u=e.setFieldValue;return(0,a.jsxs)("form",{onSubmit:s,children:[(0,a.jsx)(y.Z,{mb:4,children:(0,a.jsxs)(b.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(b.ZP,{item:!0,md:6,xs:12,children:(0,a.jsx)(j.Z,{name:"first_name",label:"Ismingiz",fullWidth:!0,onBlur:l,onChange:o,value:r.first_name||"",error:!!i.first_name&&!!t.first_name,helperText:i.first_name&&t.first_name})}),(0,a.jsx)(b.ZP,{item:!0,md:6,xs:12,children:(0,a.jsx)(j.Z,{name:"last_name",label:"Familiyangiz",fullWidth:!0,onBlur:l,onChange:o,value:r.last_name||"",error:!!i.last_name&&!!t.last_name,helperText:i.last_name&&t.last_name})}),(0,a.jsx)(b.ZP,{item:!0,md:6,xs:12,children:(0,a.jsx)(j.Z,{label:"Telefon raqamingiz",fullWidth:!0,value:null===n||void 0===n?void 0:n.user_contact,disabled:!0})}),(0,a.jsx)(b.ZP,{item:!0,md:6,xs:12,children:(0,a.jsx)(m.Z,{dateAdapter:f.Z,children:(0,a.jsx)(v.Z,{label:"Tug'ilgan sanangiz",value:r.birth_date,maxDate:new Date,inputFormat:"dd MMMM, yyyy",shouldDisableTime:function(){return!1},renderInput:function(e){return(0,a.jsx)(j.Z,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){q(e,r,n[r])}))}return e}({size:"small",fullWidth:!0},e,{error:!!i.birth_date&&!!t.birth_date||e.error,helperText:i.birth_date&&t.birth_date}))},onChange:function(e){return u("birth_date",e)}})})})]})}),(0,a.jsxs)(p.Z,{type:"submit",variant:"contained",color:"primary",children:["O'zgarishlarni saqlash",L?(0,a.jsx)(V.Z,{color:"inherit",size:25,sx:{marginLeft:"15px"}}):void 0]})]})}})]})]}):(0,a.jsx)(B,{to:"/"})}},94273:function(e,r,n){"use strict";var t=n(85893),i=n(2373);n(67294);function a(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}r.Z=function(e){return(0,t.jsx)(i.Z,function(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){a(e,r,n[r])}))}return e}({},e,{viewBox:"0 0 64 64",children:(0,t.jsx)("g",{children:(0,t.jsx)("path",{d:"M64 35C64 29.7922 60.3063 25.5161 55.6427 25.153C55.0896 23.2889 53.5951 21.8263 51.712 21.3189C50.4563 10.996 42.0737 3.125 32 3.125C21.9263 3.125 13.5437 10.996 12.2881 21.3189C10.405 21.8263 8.91038 23.2887 8.35738 25.153C8.19538 25.1656 8.03463 25.183 7.87512 25.205V13C7.87512 11.9645 7.03562 11.125 6.00012 11.125C4.96462 11.125 4.12512 11.9645 4.12512 13V26.7057C1.6455 28.4662 0 31.5252 0 35C0 40.2077 3.69375 44.4839 8.35725 44.847C8.90863 46.7052 10.3954 48.1641 12.2701 48.676C13.0689 53.3252 17.1264 56.875 22 56.875H22.4336C23.2181 59.1975 25.4161 60.875 28 60.875H36C39.2395 60.875 41.875 58.2395 41.875 55C41.875 51.7605 39.2395 49.125 36 49.125H28C25.4161 49.125 23.2181 50.8025 22.4336 53.125H22C19.1646 53.125 16.7738 51.188 16.0793 48.568C18.2852 47.807 19.875 45.7113 19.875 43.25V26.75C19.875 24.2801 18.2743 22.1785 16.0562 21.4242C17.2275 13.1423 23.9495 6.875 32 6.875C40.0505 6.875 46.7725 13.1423 47.9437 21.4242C45.7257 22.1785 44.125 24.2801 44.125 26.75V43.25C44.125 46.3516 46.6484 48.875 49.75 48.875H50.25C52.7969 48.875 54.9526 47.173 55.6427 44.847C60.3063 44.4839 64 40.2077 64 35ZM28 52.875H36C37.1717 52.875 38.125 53.8283 38.125 55C38.125 56.1717 37.1717 57.125 36 57.125H28C26.8283 57.125 25.875 56.1717 25.875 55C25.875 53.8283 26.8283 52.875 28 52.875ZM3.75 35C3.75 32.0266 5.67812 29.4665 8.125 28.9641V41.0358C5.67812 40.5335 3.75 37.9734 3.75 35ZM16.125 43.25C16.125 44.2839 15.2839 45.125 14.25 45.125H13.75C12.7161 45.125 11.875 44.2839 11.875 43.25C11.875 37.2332 11.875 32.312 11.875 26.75C11.875 25.7161 12.7161 24.875 13.75 24.875H14.25C15.2839 24.875 16.125 25.7161 16.125 26.75V43.25ZM52.125 43.25C52.125 44.2839 51.2839 45.125 50.25 45.125H49.75C48.7161 45.125 47.875 44.2839 47.875 43.25V26.75C47.875 25.7161 48.7161 24.875 49.75 24.875H50.25C51.2839 24.875 52.125 25.7161 52.125 26.75V43.25ZM55.875 41.0359V28.9643C58.3219 29.4666 60.25 32.0268 60.25 35.0001C60.25 37.9735 58.3219 40.5335 55.875 41.0359Z"})})}))}},74139:function(e,r,n){"use strict";var t=n(85893),i=n(73624),a=n(46574),o=n(48263),l=(n(67294),n(51902)),s=n(17329);r.Z=function(e){var r=e.children;return(0,t.jsx)(l.Z,{navbar:(0,t.jsx)(i.Z,{}),children:(0,t.jsx)(a.Z,{sx:{my:"2rem"},children:(0,t.jsxs)(o.ZP,{container:!0,spacing:3,children:[(0,t.jsx)(o.ZP,{item:!0,lg:3,xs:12,sx:{display:{xs:"none",sm:"none",md:"block"}},children:(0,t.jsx)(s.Z,{})}),(0,t.jsx)(o.ZP,{item:!0,lg:9,xs:12,children:r})]})})})}},17329:function(e,r,n){"use strict";var t=n(34051),i=n.n(t),a=n(85893),o=n(42279),l=(n(94273),n(54927)),s=n(15398),u=n(3769),c=n(26770),d=n(23972),h=n(11163),f=n(67294),v=n(99138),m=n(3725),p=n(25617),x=n(13540),b=n(45959),j=n(13633),y=n(74931),g=n(57524);function Z(e,r,n,t,i,a,o){try{var l=e[a](o),s=l.value}catch(u){return void n(u)}l.done?r(s):Promise.resolve(s).then(t,i)}r.Z=function(){var e=(0,p.v9)(m.pT),r=(0,h.useRouter)().pathname,n=(0,h.useRouter)(),t=[{title:"ASOSIY BO'LIM",list:[{href:"/orders",title:"Buyurtmalar",icon:c.Z}]},{title:"PROFIL SOZLAMALARI",list:[{href:"/profile",title:"Profil malumotlari",icon:s.Z},{href:"/address",title:"Manzillar ruyhati",icon:u.Z,count:e},{href:"/payment-methods",title:"To'lov ususllari",icon:l.Z},{out:!0,href:"#",title:"Profildan chiqish",icon:x.Z}]}],_=(0,p.I0)(),C=function(){var e,r=(e=i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,j.w7)(b.I);case 3:n.push("/"),y.Am.success("Tizimdan chiqarildingiz"),_((0,g.QS)(void 0)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),y.Am.error("Tizimdan chiqishda hatolik yuz berdi"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var r=this,n=arguments;return new Promise((function(t,i){var a=e.apply(r,n);function o(e){Z(a,t,i,o,l,"next",e)}function l(e){Z(a,t,i,o,l,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,a.jsx)(v.n,{sx:{px:"0px",pb:"1.5rem",color:"grey.900"},children:t.map((function(e){return(0,a.jsxs)(f.Fragment,{children:[(0,a.jsx)(d.Z,{p:"26px 30px 1rem",color:"grey.600",fontSize:"12px",children:e.title}),e.list.map((function(e){return(0,a.jsxs)(v.W,{isCurrentPath:r.includes(e.href),href:e.href,onClick:function(){(null===e||void 0===e?void 0:e.out)&&C()},children:[(0,a.jsxs)(o.Z,{alignItems:"center",children:[(0,a.jsx)(e.icon,{className:"nav-icon",fontSize:"small",color:"inherit",sx:{mr:"10px"}}),(0,a.jsx)("span",{children:e.title})]}),(0,a.jsx)("span",{children:null===e||void 0===e?void 0:e.count})]},e.title)}))]},e.title)}))})}}},function(e){e.O(0,[4665,320,9949,2274,1902,5883,9774,2888,179],(function(){return r=42807,e(e.s=r);var r}));var r=e.O();_N_E=r}]);